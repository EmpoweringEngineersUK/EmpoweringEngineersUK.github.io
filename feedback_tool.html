<!DOCTYPE html>
<html lang="en-GB">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PG4ZJ7W444"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-PG4ZJ7W444');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Management Studio | Empowering Engineers UK</title>
    <link rel="icon" type="image/jpeg" href="Favicon.jpg">
    
    <meta property="og:title" content="Management Studio | Empowering Engineers UK">
    <meta property="og:description" content="30+ Engineering Management Frameworks: SWOT, PESTLE, DMAIC, 5 Whys, GROW, and more.">
    <meta property="og:image" content="https://www.empoweringengineers.uk/EE_Logo_rect_Solid.png">
    <meta property="og:url" content="https://www.empoweringengineers.uk/feedback_tool.html">
    <meta property="og:type" content="website">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7071036534151105" crossorigin="anonymous"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@700&family=Roboto:wght@400;500;700&family=Courier+Prime&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="layout.css">
    
    <script src="frameworks.js"></script>
    
    <style>
        /* PAGE SPECIFIC STYLES */
        .container { max-width: 1400px; width: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 50px; }
        
        .card { 
            background: var(--dark-card); 
            padding: 25px; 
            border-radius: 12px; 
            border: 1px solid var(--border-color); 
            display: flex; 
            flex-direction: column; 
            margin-bottom: 20px; 
        }

        h2.card-title { 
            font-size: 1.1rem; 
            border-bottom: 1px solid var(--terminal-green); 
            padding-bottom: 10px; 
            margin-bottom: 20px; 
            color: var(--terminal-green); 
            text-transform: uppercase; 
            letter-spacing: 1px; 
        }

        .input-group { 
            margin-bottom: 25px; 
            padding-left: 15px; 
            border-left: 2px solid var(--border-color); 
        }

        .input-label { 
            display: block; 
            color: var(--burnt-orange); 
            font-weight: 700; 
            font-size: 1rem; 
            margin-bottom: 5px; 
            font-family: 'Courier Prime', monospace; 
            letter-spacing: 0.5px; 
        }

        .input-hint { 
            display: block; 
            color: var(--cloud-white); 
            font-size: 0.9rem; 
            margin-bottom: 8px; 
        }

        /* The inline example styling */
        .input-example {
            display: block;
            background: rgba(255, 255, 255, 0.05);
            color: var(--slate-grey);
            font-size: 0.85rem;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 8px;
            font-family: 'Courier Prime', monospace;
            font-style: italic;
            border: 1px dashed var(--border-color);
        }
        
        textarea { 
            width: 100%; 
            height: 70px; 
            padding: 12px; 
            background: rgba(0,0,0,0.6); 
            border: 1px solid var(--border-color); 
            color: white; 
            border-radius: 6px; 
            font-family: 'Arial', sans-serif; 
            box-sizing: border-box; 
            resize: vertical; 
            font-size: 0.95rem; 
            transition: 0.2s; 
        }
        textarea:focus { border-color: var(--terminal-green); outline: none; box-shadow: 0 0 5px rgba(0, 255, 153, 0.2); }

        .preview-box { 
            background: #09121d; 
            padding: 30px; 
            border-radius: 8px; 
            border: 1px solid var(--border-color); 
            min-height: 600px; 
            white-space: pre-wrap; 
            line-height: 1.6; 
            font-size: 1rem; 
            color: var(--cloud-white); 
            font-family: 'Courier Prime', monospace;
        }

        /* Optgroup styling support */
        select option { background: var(--dark-card); color: white; padding: 5px; }
        select optgroup { color: var(--terminal-green); font-weight: bold; background: #000; }
        
        /* AI Button Logic */
        .ai-btn-default { border-color: var(--slate-grey); color: var(--slate-grey); }
        .ai-btn-default:hover { border-color: var(--cloud-white); color: var(--cloud-white); }
        
        .ai-btn-active { border-color: var(--terminal-green); color: var(--terminal-green); }
        .ai-btn-active:hover { background: var(--hover-green); }

        @media (max-width: 900px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
	<script defer src="header_nav.js"></script>
    <div class="sticky-container">
        <a href="index.html">
            <img src="EE_Logo_rect_Trans.png" alt="Empowering Engineers UK" class="site-brand-img">
        </a>
        <nav>
            <a href="career_tool.html">Career</a>
            <a href="cpd_tool.html">CPD</a>
			<a href="raci_tool.html">RACI</a>
            <a href="STAR_engine.html">STAR</a>
            <a href="ethics_tool.html">Ethics</a>
            <a href="feedback_tool.html" class="active">Coach</a>
            <a href="glossary_tool.html">Decoder</a>
            <a href="reference_tool.html">Library</a>
            <a href="report_tool.html">Report</a>
            <a href="dap_tool.html">DAP</a>
            <a href="interview_tool.html">Interview</a>
			<a href="guide.html">Manual</a>
        </nav>
    </div>

    <div class="container">
        <div class="card" style="grid-column: 1 / -1; margin-bottom: 10px; text-align:center;">
            <h2 style="border:none; margin:0; font-size:1.5rem;">Management & Strategy Studio</h2>
            <p style="color:var(--slate-grey); font-size:0.9rem;">
                A comprehensive suite of 30+ frameworks for Strategy, Process Improvement, Decision Making, and Leadership.
            </p>
        </div>
        
        <div class="column-left">
            <div class="card">
                <h2 class="card-title">1. Select Framework</h2>
                <select id="modelSelector" onchange="renderInputs()">
                    <option value="" disabled selected>-- Choose Tool --</option>
                    
                    <optgroup label="1. Strategic Analysis">
                        <option value="SWOT">SWOT Analysis (Strengths, Weaknesses, Opps, Threats)</option>
                        <option value="PESTLE">PESTLE Analysis (External Market Factors)</option>
                        <option value="PORTER5">Porter's Five Forces (Industry Competition)</option>
                        <option value="VRIO">VRIO Framework (Resource Capability)</option>
                        <option value="BCG">BCG Matrix (Product Portfolio/Market Share)</option>
                        <option value="ANSOFF">Ansoff Matrix (Growth Strategy Risks)</option>
                        <option value="BALANCED">Balanced Scorecard (Performance Metrics)</option>
                        <option value="SCENARIO">Scenario Planning (Future Forecasting)</option>
                        <option value="VALUECHAIN">Value Chain Analysis (Internal Activities)</option>
                        <option value="BLUEOCEAN">Blue Ocean (Market Creation Strategy)</option>
                        <option value="BUSCANVAS">Business Model Canvas (Value Proposition)</option>
                        <option value="SOAR">SOAR Analysis (Strengths, Aspirations, Results)</option>
                    </optgroup>

                    <optgroup label="2. Process & Quality">
                        <option value="PDCA">PDCA Cycle (Plan-Do-Check-Act)</option>
                        <option value="DMAIC">DMAIC (Six Sigma Improvement)</option>
                        <option value="VSM">Value Stream Mapping (Lean Flow)</option>
                        <option value="5WHYS">5 Whys (Root Cause Analysis)</option>
                        <option value="FISHBONE">Fishbone Diagram (Cause & Effect)</option>
                        <option value="PARETO">Pareto Analysis (80/20 Prioritization)</option>
                        <option value="KANBAN">Kanban Board (Workflow Management)</option>
                        <option value="POKAYOKE">Poka-Yoke (Error/Mistake Proofing)</option>
                        <option value="SIPOC">SIPOC (Process Scope Definition)</option>
                    </optgroup>

                    <optgroup label="3. Decision Making">
                        <option value="MONTE">Monte Carlo (Probabilistic Simulation)</option>
                        <option value="DECTREE">Decision Tree Analysis (Logic Flow)</option>
                        <option value="CBA">Cost-Benefit Analysis (Financial Viability)</option>
                        <option value="RISKMAT">Risk Assessment Matrix (Impact vs Probability)</option>
                        <option value="FORCEFIELD">Force Field Analysis (Change Management)</option>
                        <option value="OODA">OODA Loop (Fast Decision Cycle)</option>
                        <option value="WRAP">WRAP Technique (Decision Process)</option>
                    </optgroup>

                    <optgroup label="4. Feedback & Coaching">
                        <option value="GROW">GROW Model (Coaching & Goals)</option>
                        <option value="SBI">SBI (Situation-Behavior-Impact Feedback)</option>
                        <option value="SBIBI">SBIBI (SBI + Desired Behavior)</option>
                        <option value="SBII">SBII (SBI + Intent Clarification)</option>
                        <option value="CEDAR">CEDAR (Collaborative Performance Review)</option>
                        <option value="PENDLETON">Pendleton's Rules (Balanced Dialogue)</option>
                        <option value="COIN">COIN Model (Context-Observation-Impact-Next)</option>
                        <option value="OKRS">OKRs (Objectives & Key Results)</option>
                    </optgroup>
                </select>
                
                <div id="dynamicInputs" style="margin-top:20px;"></div>

                <button class="action-btn-ghost" onclick="clearData()" style="margin-top:20px;">Reset Form</button>
            </div>
        </div>

        <div class="column-right">
            <div class="card">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                    <h2 class="card-title" style="margin:0; border:none;">2. Output Preview</h2>
                    <button class="action-btn" style="width:auto; margin:0; padding:10px 20px; font-size:0.8rem;" onclick="copyToClipboard()">Copy Text</button>
                </div>
                
                <div id="previewArea" class="preview-box">Select a tool to begin...</div>
                
                <button id="aiBtn" class="ai-btn ai-btn-default" style="display:none;" onclick="copyAiPrompt()">
                    >> GENERATE AI EXAMPLE PROMPT
                </button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; <script>document.write(new Date().getFullYear())</script> Empowering Engineers UK. All rights reserved.</p>
        <p>
            <a href="about.html">About Us</a> | 
            <a href="contact.html">Contact Us</a> | 
            <a href="terms.html">Terms of Use</a> | 
            <a href="privacy.html">Privacy Policy</a>
        </p>
    </footer>

    <script>
        // --- RENDER LOGIC ---
        function renderInputs() {
            const type = document.getElementById('modelSelector').value;
            if(!type) return;
            localStorage.setItem('fb_model', type); 

            // Use the external 'frameworks' variable from frameworks.js
            const data = frameworks[type];
            if (!data) return;

            const container = document.getElementById('dynamicInputs');
            let html = ``;
            
            data.fields.forEach(field => {
                const savedVal = localStorage.getItem('fb_' + type + '_' + field.id) || "";
                html += `
                    <div class="input-group">
                        <span class="input-label">${field.label}</span>
                        <span class="input-hint">${field.hint}</span>
                        <span class="input-example">${field.example}</span>
                        <textarea id="in_${field.id}" oninput="saveAndPreview('${type}', '${field.id}')">${savedVal}</textarea>
                    </div>
                `;
            });

            container.innerHTML = html;
            updatePreview(type);
        }

        function saveAndPreview(type, fieldId) {
            const val = document.getElementById('in_' + fieldId).value;
            localStorage.setItem('fb_' + type + '_' + fieldId, val);
            updatePreview(type);
        }

        function updatePreview(type) {
            const data = frameworks[type];
            let text = `**FRAMEWORK: ${type}**\n\n`;
            let hasContent = false;
            
            data.fields.forEach(field => {
                const el = document.getElementById(`in_${field.id}`);
                if(el && el.value.trim() !== "") {
                    text += `[${field.label}]\n${el.value}\n\n`;
                    hasContent = true;
                }
            });

            const aiBtn = document.getElementById('aiBtn');
            const previewBox = document.getElementById('previewArea');

            // Toggle AI Button State based on content
            if (hasContent) {
                previewBox.innerText = text;
                aiBtn.innerHTML = ">> GENERATE AI REVIEW PROMPT";
                aiBtn.className = "ai-btn ai-btn-active";
            } else {
                previewBox.innerText = "Select a tool and start typing...\n\n(Or click the AI button below to generate a prompt based on the Reference Examples)";
                aiBtn.innerHTML = ">> GENERATE AI EXAMPLE PROMPT";
                aiBtn.className = "ai-btn ai-btn-default";
            }
            
            // Ensure button is visible once tool is selected
            aiBtn.style.display = 'block';
        }

        // --- AI PROMPT GENERATOR (SMART) ---
        function copyAiPrompt() {
            const type = document.getElementById('modelSelector').value;
            if(!type) return;

            const data = frameworks[type];
            const cat = data.cat;
            
            let script = "";
            let promptType = "User Draft";

            // CHECK: Is there user data?
            let hasUserData = data.fields.some(field => {
                const el = document.getElementById('in_' + field.id);
                return el && el.value.trim() !== "";
            });

            if (hasUserData) {
                // Build script from User Input
                data.fields.forEach(field => {
                    const el = document.getElementById('in_' + field.id);
                    if(el && el.value.trim()) {
                        script += `[${field.label}]\n${el.value.trim()}\n\n`;
                    }
                });
            } else {
                // Build script from Examples (Default)
                promptType = "Hypothetical Example";
                script += "NOTE: This is a hypothetical example scenario based on standard engineering practices.\n\n";
                data.fields.forEach(field => {
                    // Clean the example text: remove "e.g. " and quotes
                    let cleanEx = field.example.replace(/^e\.g\.\s*['"]?|['"]?$/g, '');
                    script += `[${field.label}]\n${cleanEx}\n\n`;
                });
            }
            
            // Context-Aware Personas
            let role = "Senior Engineer";
            let action = "review this";
            
            if(cat === 'strategy') {
                role = "Strategic Consultant / Engineering Director";
                action = `Analyze this ${type} strategic assessment. 1. Identify any blind spots. 2. Challenge assumptions. 3. Suggest one concrete strategic move.`;
            } 
            else if (cat === 'process') {
                role = "Lean Six Sigma Master Black Belt";
                action = `Critique this ${type} process improvement plan. 1. Is the root cause analysis logical? 2. Are the controls sufficient? 3. Suggest a metric to track success.`;
            }
            else if (cat === 'decision') {
                role = "Risk Manager / Chief Engineer";
                action = `Review this ${type} decision logic. 1. Have I missed any critical risks? 2. Is the conclusion supported by the inputs? 3. Play 'Devil's Advocate'.`;
            }
            else {
                role = "HR Director / Leadership Coach";
                action = `Review this ${type} feedback script. 1. Is the tone appropriate? 2. Is the 'Action' specific enough? 3. How might the recipient react?`;
            }

            const prompt = `Act as a ${role}. 
            
I have drafted a ${type} framework below (${promptType}):
"""
${script}
"""

${action}`;

            navigator.clipboard.writeText(prompt).then(() => {
                const btn = document.getElementById('aiBtn');
                const origText = btn.innerText;
                btn.innerText = ">> COPIED! PASTE INTO CHATGPT";
                setTimeout(() => { 
                    // Restore original text based on state
                    if(hasUserData) {
                        btn.innerText = ">> GENERATE AI REVIEW PROMPT";
                    } else {
                        btn.innerText = ">> GENERATE AI EXAMPLE PROMPT";
                    }
                }, 3000);
            });
        }

        function clearData() {
            if(confirm("Clear all data?")) {
                localStorage.removeItem('fb_model');
                Object.keys(frameworks).forEach(key => {
                    frameworks[key].fields.forEach(f => localStorage.removeItem('fb_' + key + '_' + f.id));
                });
                renderInputs();
            }
        }

        function copyToClipboard() {
            const text = document.getElementById('previewArea').innerText;
            navigator.clipboard.writeText(text).then(() => { 
                const btn = document.querySelector('.column-right .action-btn'); 
                const origText = btn.innerText;
                btn.innerText = "COPIED!";
                setTimeout(() => { btn.innerText = origText; }, 2000);
            });
        }

        window.onload = function() {
            const savedModel = localStorage.getItem('fb_model');
            if(savedModel && frameworks[savedModel]) {
                document.getElementById('modelSelector').value = savedModel;
                renderInputs();
            }
        };
    </script>
	
	<script src="footer_feedback.js"></script>
	
</body>
</html>